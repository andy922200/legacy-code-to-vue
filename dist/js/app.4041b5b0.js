(function(t){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],m=0,f=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2886:function(t,e,n){},"32a8":function(t,e,n){"use strict";var r=n("2886"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o=(n("32a8"),n("2877")),s={},l=Object(o["a"])(s,i,a,!1,null,null,null),c=l.exports,u=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"moviesContainer"},[t._m(0),n("div",{staticClass:"container container--fix"},[n("MovieInputForm"),n("hr"),t.isLoading?n("Spinner"):t._e(),t.isLoading||0!==t.movies.length?t._e():n("p",{staticClass:"text-center"},[t._v(" No Result. Please try again. ")]),0!==t.movies.length?n("ul",{staticClass:"list-group"},t._l(t.movies,(function(e){return n("li",{key:e.movie_id,staticClass:"list-group-item"},[n("h3",[t._v(t._s(e.ch_name))]),n("h4",[t._v(t._s(e.eng_name))]),n("div",{staticClass:"movie-intro"},[t._v(" "+t._s(e.intro)+" ")])])})),0):t._e()],1)])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark"},[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("My Movie List")])])}],d=n("5530"),v=n("2f62"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loadingSpinner text-center"},[n("b-spinner",{attrs:{label:"Loading...",variant:"info"}})],1)},_=[],g={name:"loadingSpinner"},h=g,b=Object(o["a"])(h,p,_,!1,null,null,null),x=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.insertMovie(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"input-title-ch"}},[t._v("Title in Chinese")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.title_ch,expression:"form.title_ch",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"input-title-ch",placeholder:"金牌特務"},domProps:{value:t.form.title_ch},on:{input:function(e){e.target.composing||t.$set(t.form,"title_ch",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("small",{staticClass:"form-text text-muted"},[t._v("請輸入最多 50 個中文字")]),n("small",{staticClass:"errorMessage",class:!1===t.title_ch_validated?"errorMessage--show":""},[t._v(" 只接受中文字，並請檢查輸入長度， ")])]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"input-title-eng"}},[t._v("Title in English")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.title_eng,expression:"form.title_eng",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"input-title-eng",placeholder:"Kingsman"},domProps:{value:t.form.title_eng},on:{input:function(e){e.target.composing||t.$set(t.form,"title_eng",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("small",{staticClass:"form-text text-muted"},[t._v("最多100字，不接受 $, %, ^, &, *")]),n("small",{staticClass:"errorMessage",class:!1===t.title_eng_validated?"errorMessage--show":""},[t._v(" 請檢查輸入長度，和刪除不接受的字元 ")])]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"input-intro"}},[t._v("Intro")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.intro,expression:"form.intro",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"input-intro",placeholder:"是一部於2015年上映，由英國、美國合拍的諜報喜劇動作片..."},domProps:{value:t.form.intro},on:{input:function(e){e.target.composing||t.$set(t.form,"intro",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("small",{staticClass:"form-text text-muted"},[t._v('請以 "Intro" 開頭，10~250字')]),n("small",{staticClass:"errorMessage",class:!1===t.title_intro_validated?"errorMessage--show":""},[t._v(" 請檢查是否合乎條件 ")])]),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.isLoading}},[t._v(" Insert ")])])},O=[],j=(n("99af"),n("4de4"),n("4160"),n("a15b"),n("b64b"),n("ac1f"),n("1276"),n("159b"),n("2909")),M=(n("96cf"),n("1da1")),y={name:"MovieInputForm",data:function(){return{form:{title_ch:"",title_eng:"",intro:""},title_ch_validated:null,title_eng_validated:null,title_intro_validated:null}},computed:Object(d["a"])(Object(d["a"])({},Object(v["c"])("movies",["movies","isLoading"])),{},{isValidForm:function(){return this.title_ch_validated&&this.title_eng_validated&&this.title_intro_validated}}),methods:Object(d["a"])(Object(d["a"])({},Object(v["d"])("movies",["setMovies"])),{},{insertMovie:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validationCheck();case 3:n=e.sent,n&&(r={ch_name:t.form.title_ch,eng_name:t.form.title_eng,intro:t.form.intro},t.setMovies([r].concat(Object(j["a"])(t.movies))),t.formReset()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},validationCheck:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=/[\u4E00-\u9FFF]{1,50}/,r=/[0-9A-Za-z\s]{1,100}/,i=/[A-Za-z]/,a=/[`~!@#$^&*()=|{}':;',\[\].<>/?~！@#￥……&*（）――|{}【】‘；：”“'。，、？]/,o=/^Intro.{5,250}/,s=t.form.intro.split("").filter((function(t){return" "!==t})).join(""),t.title_ch_validated=n.test(t.form.title_ch)&&!i.test(t.form.title_ch),t.title_eng_validated=r.test(t.form.title_eng)&&!a.test(t.form.title_eng),t.title_intro_validated=o.test(s),e.abrupt("return",!!t.isValidForm);case 13:return e.prev=13,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()},formReset:function(){var t=this,e=Object.keys(this.form);e.forEach((function(e){return t.form[e]=""})),this.title_ch_validated=null,this.title_eng_validated=null,this.title_intro_validated=null}})},C=y,k=Object(o["a"])(C,w,O,!1,null,null,null),L=k.exports,$={name:"Movies",components:{Spinner:x,MovieInputForm:L},created:function(){this.getMovies()},computed:Object(d["a"])({},Object(v["c"])("movies",["movies","isLoading"])),methods:Object(d["a"])({},Object(v["b"])("movies",["getMovies"]))},P=$,R=(n("f4e8"),Object(o["a"])(P,m,f,!1,null,null,null)),S=R.exports;r["default"].use(u["a"]);var E=[{path:"/",name:"Movies",component:S}],F=new u["a"]({routes:E}),I=F,T=n("bc3a"),N=n.n(T),U="https://cors-anywhere.herokuapp.com/",z="https://hw-web-api.herokuapp.com/api",A=N.a.create({baseURL:"".concat(U).concat(z)}),J={getMovies:function(){return A.get("/movie/list.php")}},V={namespaced:!0,state:{movies:[],isLoading:!1},getters:{movies:function(t){return t.movies},isLoading:function(t){return t.isLoading}},mutations:{setMovies:function(t,e){t.movies=e},isLoading:function(t,e){t.isLoading=e}},actions:{getMovies:function(t){return Object(M["a"])(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n("isLoading",!0),e.next=5,J.getMovies();case 5:r=e.sent,i=r.data,n("setMovies",i),n("isLoading",!1),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0),n("isLoading",!0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}}},Z=V;r["default"].use(v["a"]);var D=new v["a"].Store({state:{},mutations:{},actions:{},modules:{movies:Z}}),K=n("5f5b");n("ab8b"),n("2dd8");r["default"].use(K["a"]),r["default"].config.productionTip=!1,new r["default"]({router:I,store:D,render:function(t){return t(c)}}).$mount("#app")},e895:function(t,e,n){},f4e8:function(t,e,n){"use strict";var r=n("e895"),i=n.n(r);i.a}});
//# sourceMappingURL=app.4041b5b0.js.map